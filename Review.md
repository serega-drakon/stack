1. 'я заебался писать комменты' - не обязательно писать коменты на каждой строке. 
Достаточно правильно разбивать программу на небольшие функции и к ним писать описание.
2. Замечание по архитектуре. Есть важный принцип ООП - single responsibility principle. Это значит, что каждая функция имеет одну задачу и только ее выполняет. Хоть он из ООП, но все равно это полезный принцип.
В данном случае stack_main не подходит под условие одной ответственности тк там есть и чтение и запись. Пока можно оставить, но на будущее лучше проектировать с учетом разделения ответственности.
3. Я забыл вот про что рассказать. У std::vector добавление элемента в конец занимает по времени O(1). У тебя это занимеает O(N), поскольку при увеличении на константный STEP раз в STEP добавлений происходит копирование всего массива за O(N).
Если массив увеличивать каждый раз в 2 раза, то в пределе бесконечности добавлений в конец сложность станет O(1), поэтому лучше так увеличивать массив.
4. Идея с возвратом буфера, в котором данные хранятся правильная. Хорошо, что сам догадался\
5. Небольшая заметка: я код особо не запускаю, поэтому могу пропустить некоторые баги. Дальше я попытаюсь больше обращать внимания на это, но все равно поймать все не получится, так что писать тесты это в твоих интересах.
Если время будет можешь Google тесты глянуть, но это в послежнюю очередь. Я так тестировать начал только на втором курсе. До этого вообще без тестов обходился